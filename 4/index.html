<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Yay Denge Noktasından Uzaklık Simülasyonu</title>
<link rel="stylesheet" href="style.css" />
<!-- LMS entegrasyonu için uç nokta (gerekiyorsa değiştirin) -->
<meta name="lms-endpoint" content="/api/lms/score"> <!-- Örnek: https://lms.ornek.edu/collect-score -->
<style>
/* Ek stil yalnızca bu sayfaya özgü minimal eklemeler */
.global-banner {background:linear-gradient(90deg,#1e3a8a,#4c1d95,#7e1d50,#b91c1c);color:#fff;padding:14px 24px;font-size:1.4rem;font-weight:700;letter-spacing:.5px;text-align:center;border-bottom:4px solid rgba(255,255,255,.15);}
.spring-page { display:none; }
.spring-page.active { display:block; }
.spring-container { max-width:1100px; margin:20px auto; padding:20px; background:#fff; border:1px solid #ddd; border-radius:14px; }
.spring-two-col { display:flex; gap:20px; width:98%; margin:auto; }
.spring-left,.spring-right { flex:1 1 0; display:flex; flex-direction:column; }
#spring-anim-canvas,#spring-graph-canvas { width:100%; aspect-ratio:16/10; border:2px solid #555; background:#fff; border-radius:10px; }
#spring-anim-canvas { background:linear-gradient(to top,#dfe9f3,#fff); }
.spring-info { font-size:.9rem; line-height:1.5; text-align:left; }
.spring-btn { cursor:pointer; font-size:.9rem; font-weight:600; border:none; border-radius:10px; padding:10px 20px; background:#1a2a6c; color:#fff; letter-spacing:.3px; box-shadow:0 4px 14px -4px rgba(0,0,0,.35); transition:.18s; }
.spring-btn:hover { transform:translateY(-2px); box-shadow:0 8px 20px -6px rgba(0,0,0,.4); }
.spring-btn:active { transform:translateY(0); }
#spring-to-exam.ready { background:linear-gradient(135deg,#1a6c2a,#3ac55f); }
.spring-exam-grid { margin-top:10px; }
.spring-exam-grid .quiz-question { margin-top:18px; }
#spring-solution-overlay { position:fixed; inset:0; background:rgba(20,28,47,.70); z-index:9999; display:none; align-items:center; justify-content:center; padding:22px 20px 28px; }
#spring-solution-overlay .modal { background:#fff; border-radius:26px; padding:30px 34px 38px; width:100%; max-width:760px; box-shadow:0 20px 55px -15px rgba(0,0,0,.55),0 8px 28px -10px rgba(0,0,0,.4); position:relative; }
#spring-solution-overlay .close-btn { position:absolute; top:12px; right:12px; width:36px; height:36px; border:none; background:#f1f5f9; font-size:22px; line-height:1; border-radius:12px; cursor:pointer; display:flex; align-items:center; justify-content:center; color:#334155; transition:.18s; }
#spring-solution-overlay .close-btn:hover { background:#e2e8f0; }
.solution-nav { display:flex; gap:12px; margin-top:10px; }
.sol-body { max-height:50vh; overflow:auto; font-size:.85rem; line-height:1.45; }
#spring-eval-card { background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%); color:#fff; padding:28px 24px 32px; border-radius:18px; text-align:center; margin:18px 0 28px; }
#spring-eval-card .score { font-size:2.6rem; font-weight:800; margin-bottom:8px; }
#spring-eval-card .percent { font-size:1.1rem; font-weight:600; }
#spring-eval-card .grade { font-size:1rem; opacity:.9; }
@media (max-width:900px){ .spring-two-col { flex-direction:column; } }
</style>
<!-- MathJax for upright (non-italic) formula rendering -->
<script>
window.MathJax = { tex: { inlineMath: [['\\(','\\)']], displayMath: [['\\[','\\]']] } };
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
</head>
<body>
<div class="global-banner">4. Basamak Değerlendirme - Fonksiyonun Tanımı</div>

<div id="spring-intro-page" class="spring-page active">
  <div class="spring-container">

    <!-- Sınavın Amacı -->
    <div style="margin-bottom:18px;">
      <div style="font-size:1.15rem; font-weight:700; color:#b91c1c; display:flex; align-items:center; gap:7px; margin-bottom:4px;">
        <span style="font-size:1.3rem;">&#9678;</span> Sınavın Amacı
      </div>
      <div style="border-top:2px solid #1e40af; margin-bottom:8px;"></div>
  <div style="font-size:.98rem; color:#222;">Bu sınav, gerçek sayılarda tanımlı fonksiyonların tanımı ve nitel özelliklerini analiz etme becerinizi ölçmek için tasarlanmıştır. Sınavda, fonksiyonların tanım ve görüntü kümeleri, artan-azalan aralıkları, sıfır noktaları, bire bir ve örten olma özellikleri gibi temel kavramları grafik ve cebirsel temsiller üzerinden değerlendireceksiniz.</div>
    </div>

    <!-- Sınav Hakkında -->
    <div style="margin-bottom:18px;">
      <div style="font-size:1.15rem; font-weight:700; color:#b91c1c; display:flex; align-items:center; gap:7px; margin-bottom:4px;">
        <span style="font-size:1.3rem;">&#9432;</span> Sınav Hakkında
      </div>
      <div style="border-top:2px solid #1e40af; margin-bottom:8px;"></div>
      <div style="font-size:.98rem; color:#222;">Sınav 7 sorudan oluşmaktadır ve toplam 25 puan üzerinden değerlendirilecektir. Her soru bir fonksiyonun özelliklerini analiz etmenizi gerektirir. Soru kartlarında puanlar belirtilmiştir.</div>
    </div>

    <!-- Sınav Kuralları -->
    <div style="background:#fffbea; border:2px solid #fbbf24; border-radius:14px; padding:16px 20px; margin-bottom:22px;">
      <strong style="color:#b91c1c; font-size:1rem; display:flex; align-items:center; gap:6px;"><span style="font-size:1.3rem;">&#9888;</span> Sınav Kuralları</strong>
      <ul style="margin:10px 0 0 18px; padding:0; color:#222; font-size:.97rem;">
        <li><strong>Tüm sorular cevaplanmalıdır.</strong> Eksik cevaplanan sorular puan alamaz.</li>
        <li><strong>Cevaplarınızı kontrol ettikten sonra <span style='color:#b91c1c;'>değiştirme şansınız olmayacaktır.</span></strong></li>
        <li>Her sorunun puan değeri soru kartında belirtilmiştir.</li>
        <li>Sınav süresince geri butonunu kullanamazsınız.</li>
      </ul>
    </div>
    <div style="background:#f8fbff; border:2px solid #2563eb; border-radius:16px; padding:18px 22px; margin-bottom:18px;">
      <strong style="font-size:1.1rem; color:#1e40af; display:block; margin-bottom:8px;">Değerlendirme Sınavının Yapısı:</strong>
      <ul style="margin:0 0 0 18px; padding:0; color:#222; font-size:.98rem;">
        <li><strong>Aşama 1 (Simülasyon):</strong> Dinamik animasyon ile süreç gözlemi (zaman &amp; konum ilişkisi keşfi). Bu aşamada puanlama yok.</li>
        <li><strong>Aşama 2 (Sınav):</strong> 7 açık uçlu soru – toplam 25 puan.</li>
        <li><strong>Puan Dağılımı:</strong> Her sorunun başında kaç puan olduğu yazılı.</li>
  <li><strong>Soru Tipleri:</strong> Fonksiyon tanımı ve düşey doğru testi, sıfır noktaları, tanım ve görüntü kümeleri, maksimum ve minimum değerler, artan ve azalan aralıklar, pozitif ve negatif olduğu aralıklar, bire birlik analizi.</li>
        <li><strong>Çözümler:</strong> Sınavı bitirince her soru için açıklamalı çözüm butonları açılır.</li>
      </ul>
    </div>
    <div style="background:#fff7f7; border:2px solid #f87171; border-radius:14px; padding:16px 20px; margin-bottom:22px;">
      <strong style="color:#b91c1c; font-size:1rem; display:flex; align-items:center; gap:6px;"><span style="font-size:1.3rem;">&#9888;</span> YZ Destekli Değerlendirme</strong>
Bu etkinlikte verilen otomatik değerlendirmeler ve geri bildirimler yapay zeka destekli bir sistem tarafından sağlanmaktadır. Amaç; öğrenmenize destek olmak, kavram yanılgılarını fark ettirmek ve kendi kendine düzeltme fırsatı sunmaktır. YZ çıktıları <strong>uzman görüşünün yerine geçmez</strong>. Kararsız kaldığınız noktalarda öğretmeninizden veya güvenilir kaynaklardan teyit alınız.      <div style="font-size:.97rem; color:#b91c1c; margin-top:6px;"></div>
    </div>
  <button id="spring-sim-start" class="spring-btn" style="font-size:1.1rem; padding:12px 32px; margin-top:10px;">Simülasyon Sayfası</button>
  </div>
</div>

<div id="spring-simulation-page" class="spring-page">
  <div class="spring-container">
    <h2>Simülasyon</h2>
    <div class="spring-two-col">
      <div class="spring-left">
        <canvas id="spring-anim-canvas"></canvas>
      </div>
      <div class="spring-right">
        <canvas id="spring-graph-canvas"></canvas>
        <button id="spring-to-exam" class="spring-btn" disabled>Simülasyon Devam Ediyor</button>
        <div class="spring-info">
          <p><strong>Açıklama:</strong> Analitik düzlemde verilen grafik, animasyonda yay ucundaki kütlenin <em>denge konumundan uzaklığını</em> (y) zamana (x) göre gösterir. Denge (y=0) düz çizgi olarak animasyonda belirtilmiştir.</p>
        </div>
      </div>
    </div>

    <!-- Fonksiyonların Fizikte Önemi Bilgi Kutusu -->
    <div class="spring-info" style="margin-top:18px; background:#f0f9ff; border:2px solid #38bdf8; border-radius:14px; padding:16px 18px;">
      <strong style="display:flex;align-items:center;gap:6px;font-size:1rem;color:#075985;"><span style="font-size:1.4rem;">⚡</span> Fonksiyonların Fizikte Önemi</strong>
  <p style="margin:10px 0 8px;font-size:.9rem;color:#0f172a;">Yay hareketinde her an kütlenin konumu tek bir sayıya (zaman x → konum y) eşlenir: bu tam olarak bir <strong>fonksiyon</strong> tanımıdır. Fizikte fonksiyonlar; karmaşık, sürekli değişen süreçleri yönetilebilir, karşılaştırılabilir ve öngörülebilir hale getirir.</p>
      <ul style="margin:0 0 8px 18px; padding:0; font-size:.85rem; line-height:1.5; color:#0f172a;">
  <li>Zamanı konuma, konumu hıza ve ivmeye bağlayan ilişkileri ifade eder.</li>
        <li>Parametreler (yay sabiti <em>k</em>, genlik) değiştiğinde sistem tepkisini önceden tahmin etmenizi sağlar.</li>
  <li>Animasyondaki görsel davranış ile grafiksel/cebirsel ifade (f(x)) arasında zihinsel köprü kurdurur.</li>
        <li><strong>Gözlem → Örüntü → Fonksiyon → Tahmin</strong> döngüsünün merkezinde yer alır.</li>
      </ul>
  <div style="font-size:.78rem; color:#0369a1;"><strong>İpucu:</strong> Sınavda artan-azalan aralıklar, sıfırlar ve maksimum-minimum sorularında aslında bu fonksiyonun davranışını sözel olarak yeniden anlatacaksınız.</div>
    </div>
    <div class="spring-bottom-actions" style="margin-top:14px; display:flex; gap:8px; flex-wrap:wrap;">
      <button data-spring-restart class="spring-btn">Başa Dön</button>
      <button id="spring-to-exam-bottom" class="spring-btn" disabled>Simülasyon Devam Ediyor</button>
    </div>
  </div>
</div>

  <div id="spring-exam-page" class="spring-page">
    <div class="spring-container" style="max-width:1200px;">
  <h2>2. Aşama: Değerlendirme Sınavı</h2>
  <p>Bu bölümde f(x) fonksiyonuna (0 ≤ x ≤ 12) dayalı 7 soru bulunmaktadır. Toplam <strong>25 puan</strong>. Sınavı bitirince çözümler açılır ve puanlama otomatik yapılır.</p>
      <div id="spring-graph-reference" style="background:#f1f5f9;border:1px solid #cbd5e1;padding:12px 14px;border-radius:12px; margin:12px 0 18px;">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
          <strong style="font-size:.9rem;color:#0f172a;">Grafik Hatırlatıcı</strong>
          <button type="button" id="spring-ref-toggle" class="spring-btn" style="padding:4px 12px;font-size:.65rem;line-height:1;">Gizle</button>
        </div>
        <div id="spring-ref-body" style="margin-top:8px;">
          <p id="spring-ref-placeholder" style="font-size:.7rem;color:#475569;margin:0;">Simülasyon tamamlandığında grafik burada görünecek.</p>
          <img id="spring-graph-ref-img" alt="Fonksiyon Grafiği" style="max-width:100%;display:none;border:1px solid #ddd;border-radius:8px;" />
        </div>
      </div>
      <form id="spring-quiz-form">
        <div class="quiz-question" id="q1-container">
          <p>1. <span class="point-badge">4 PUAN</span> Bu grafik bir fonksiyon belirtir mi? ("evet" / "hayır" + kısa gerekçe) <button type="button" class="btn helper-btn solution-btn" style="padding:4px 10px;font-size:0.65rem;margin-left:8px;" data-sol="1">Çözüm</button></p>
          Cevap: <input type="text" class="fill-in" id="q1a" style="width:90px;"> Gerekçe: <input type="text" class="fill-in" id="q1b" style="width:260px;">
        </div>
        <div class="quiz-question" id="q2-container">
          <p>2. <span class="point-badge">5 PUAN</span> Fonksiyonun sıfırlarını küçükten büyüğe aralarına virgül koyarak yazınız. <button type="button" class="btn helper-btn solution-btn" style="padding:4px 10px;font-size:0.65rem;margin-left:8px;" data-sol="2">Çözüm</button></p>
            <input type="text" class="fill-in" id="q2zeros" style="width:320px;">
          <div id="q2-feedback" style="margin-top:6px;font-size:.75rem;color:#444;"></div>
        </div>
        <div class="quiz-question" id="q3-container">
          <p>3. <span class="point-badge">4 PUAN</span> Tanım ve Görüntü Kümelerini yazınız. <button type="button" class="btn helper-btn solution-btn" style="padding:4px 10px;font-size:0.65rem;margin-left:8px;" data-sol="3">Çözüm</button></p>
          Tanım: [<input type="text" class="fill-in" id="q3a_1" style="width:60px;">, <input type="text" class="fill-in" id="q3a_2" style="width:60px;">]  Görüntü: [<input type="text" class="fill-in" id="q3b_1" style="width:60px;">, <input type="text" class="fill-in" id="q3b_2" style="width:60px;">]
        </div>
        <div class="quiz-question" id="q4-container">
          <p>4. <span class="point-badge">3 PUAN</span> Fonksiyonun maksimum ve minimum değerlerini yazınız. <button type="button" class="btn helper-btn solution-btn" style="padding:4px 10px;font-size:0.65rem;margin-left:8px;" data-sol="4">Çözüm</button></p>
          Maksimum değer: <input type="text" class="fill-in" id="q4a" style="width:80px;">  Minimum değer: <input type="text" class="fill-in" id="q4b" style="width:80px;">
        </div>
        <div class="quiz-question" id="q5-container">
          <p>5. <span class="point-badge">3 PUAN</span> Fonksiyonun <strong>artan olduğu aralıkların birleşimini</strong> ve <strong>azalan olduğu aralıkların birleşimini</strong> yazınız. <button type="button" class="btn helper-btn solution-btn" style="padding:4px 10px;font-size:0.65rem;margin-left:8px;" data-sol="5">Çözüm</button></p>
          Artan Aralıkların Birleşimi: <input type="text" class="fill-in" id="q5inc" style="width:340px;" placeholder=""> <br>
          Azalan Aralıkların Birleşimi: <input type="text" class="fill-in" id="q5dec" style="width:340px;" placeholder="">
          <div class="symbol-bar" style="margin-top:6px; display:flex; gap:6px; flex-wrap:wrap; align-items:center;">
            <button type="button" class="sym-btn" data-insert-symbol="[" title="[">[</button>
            <button type="button" class="sym-btn" data-insert-symbol="]" title="]">]</button>
            <button type="button" class="sym-btn" data-insert-symbol="∪" title="Birleşim">∪</button>
            <button type="button" class="sym-btn" data-insert-symbol="," title=",">,</button>
          </div>
        </div>
        <div class="quiz-question" id="q6-container">
          <p>6. <span class="point-badge">3 PUAN</span> Fonksiyonun <strong>pozitif olduğu aralıkların birleşimini</strong> ve <strong>negatif olduğu aralıkların birleşimini</strong> yazınız. <button type="button" class="btn helper-btn solution-btn" style="padding:4px 10px;font-size:0.65rem;margin-left:8px;" data-sol="6">Çözüm</button></p>
            Pozitif Bölgeler: <input type="text" class="fill-in" id="q6pos" style="width:100%; max-width:100%;"> <br>
            Negatif Bölgeler: <input type="text" class="fill-in" id="q6neg" style="width:100%; max-width:100%;">
          <div class="symbol-bar" style="margin-top:6px; display:flex; gap:6px; flex-wrap:wrap;">
            <button type="button" class="sym-btn" data-insert-symbol="(" title="(">(</button>
            <button type="button" class="sym-btn" data-insert-symbol=")" title=")">)</button>
            <button type="button" class="sym-btn" data-insert-symbol="∪" title="Birleşim">∪</button>
            <button type="button" class="sym-btn" data-insert-symbol="," title=",">,</button>
          </div>
        </div>
        <div class="quiz-question" id="q7-container">
          <p>7. <span class="point-badge">3 PUAN</span> f(x) bire bir midir? ("evet" / "hayır" + kısa gerekçe) <button type="button" class="btn helper-btn solution-btn" style="padding:4px 10px;font-size:0.65rem;margin-left:8px;" data-sol="7">Çözüm</button></p>
          Cevap: <input type="text" class="fill-in" id="q7a" style="width:90px;"> Gerekçe: <input type="text" class="fill-in" id="q7b" style="width:260px;">
        </div>
  <button type="button" id="spring-submit-exam" class="btn btn-success">Sınavı Bitir ve Puanla</button>
        <button type="button" class="btn btn-secondary" data-spring-restart>Simülasyonu Yeniden İzle</button>
      </form>
    </div>
  </div>

  <!-- Değerlendirme Sayfası -->
  <div id="spring-ai-eval-page" class="spring-page">
    <div class="spring-container" style="max-width:1000px;">
      <div style="background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff; padding:28px; border-radius:18px; text-align:center; box-shadow:0 8px 25px rgba(0,0,0,0.25);">
  <h2 style="margin:0; font-size:2rem;">Değerlendirme Sayfası</h2>
      </div>
      <div id="spring-score-card" class="ai-score-card" style="margin-top:26px;">
  <div id="spring-final-score" class="score-main">-- / 25</div>
        <div id="spring-final-percentage" class="score-percent">--%</div>
        <div id="spring-final-grade" class="score-grade">Değerlendiriliyor...</div>
      </div>
      <div id="spring-evaluation-content" class="ai-eval-box">
        <div style="text-align:center; color:#666; padding:40px;">
          <div style="font-size:3rem; margin-bottom:16px;">⏳</div>
          <h3 style="margin:0 0 6px;">Değerlendiriliyor...</h3>
          <p style="margin:0;">Yanıtlar değerlendiriliyor, lütfen bekleyiniz.</p>
        </div>
      </div>
      <div style="text-align:center; margin-top:24px; display:flex; gap:12px; flex-wrap:wrap; justify-content:center;">
        <button class="btn btn-secondary" onclick="window.springPages.show('exam')">← Sınava Dön</button>
        <button id="spring-view-solutions-btn" class="btn btn-secondary" style="display:none;" onclick="window.springSolutions.open(1)">Çözümleri Gör</button>
      </div>
    </div>
  </div>

<!-- Çözüm Modalı -->
<div id="spring-solution-overlay">
  <div class="modal">
    <button class="close-btn" data-spring-close-solution>×</button>
    <h3 id="spring-sol-title">Çözüm</h3>
    <div id="spring-sol-body" class="sol-body"></div>
    <div class="solution-nav">
      <button id="spring-sol-prev" class="spring-btn">← Önceki</button>
      <button id="spring-sol-next" class="spring-btn">Sonraki →</button>
      <button data-spring-close-solution class="spring-btn">Kapat</button>
    </div>
  </div>
</div>

<script src="spring.js"></script>
<!-- Yalnızca buton tıklamaları için ses -->
<audio id="btn-click-audio" src="click.mp3" preload="auto" style="display:none" aria-hidden="true"></audio>
<script>
  // Tüm etkin buton tıklamalarında click.mp3 çal
  (function(){
    const audioEl = document.getElementById('btn-click-audio');
    if(!audioEl) return;
    const playClick = () => {
      try { audioEl.currentTime = 0; audioEl.play(); } catch(e) {}
    };
    document.addEventListener('click', function(ev){
      const btn = ev.target && ev.target.closest ? ev.target.closest('button') : null;
      if (!btn || btn.disabled) return; // sadece etkin butonlar
      playClick();
    }, true);
  })();
  </script>
</body>
</html>
